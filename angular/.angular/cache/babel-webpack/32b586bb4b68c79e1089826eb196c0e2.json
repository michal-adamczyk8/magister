{"ast":null,"code":"import { Pet } from './pet';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { environment } from '../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport let PetService = /*#__PURE__*/(() => {\n  class PetService {\n    constructor(httpClient) {\n      this.httpClient = httpClient;\n      this.baseUrl = environment.apiUrl;\n      this.pets = [];\n    }\n\n    getSinglePet(petId) {\n      const httpUrl = this.baseUrl + '/pet/details/' + petId;\n      return this.httpClient.get(httpUrl);\n    }\n\n    addPet(petForm, shelterId) {\n      const newPet = new Pet(null, this.toPetType(petForm.value.type), petForm.value.name, this.toPetSex(petForm.value.sex), petForm.value.raceType, petForm.value.birthYear, petForm.value.birthMonth, petForm.value.weight, petForm.value.admittanceDate, petForm.value.description, petForm.value.foundPlace, shelterId, this.toPetStatus(petForm.value.status), null, null);\n      const headers = {\n        'content-type': 'application/json'\n      };\n      const body = JSON.stringify(newPet);\n      this.pets.push(newPet);\n      const url = this.baseUrl + '/pet';\n      return this.httpClient.post(url, body, {\n        headers\n      }).subscribe();\n    }\n\n    getAllPets(page, size) {\n      let params = new HttpParams();\n      params = params.append(\"page\", page.toString());\n      params = params.append(\"size\", size.toString());\n      return this.httpClient.get(`${this.baseUrl}` + '/pet/all', {\n        params: params\n      });\n    }\n\n    getAllPetsForShelter(shelterId, page, size) {\n      return this.httpClient.get(`${this.baseUrl}/shelter/pets/${shelterId}/${page}/${size}`);\n    }\n\n    deletePet(petId) {\n      const httpUrl = this.baseUrl + '/pet/' + petId;\n      return this.httpClient.delete(httpUrl).subscribe();\n    }\n\n    saveEditedPet(pet) {\n      const headers = {\n        'content-type': 'application/json'\n      };\n      const body = JSON.stringify(pet);\n      return this.httpClient.put(`${this.baseUrl}/pet/edit`, body, {\n        headers\n      }).subscribe();\n    }\n\n    toPetType(petType) {\n      switch (petType) {\n        case 'Pies':\n          return PetTypeEnum.DOG.toString();\n\n        case 'Kot':\n          return PetTypeEnum.CAT.toString();\n      }\n    }\n\n    toPetSex(petSex) {\n      switch (petSex) {\n        case 'Pies':\n          return PetSexEnum.DOG_MALE;\n\n        case 'Suka':\n          return PetSexEnum.DOG_FEMALE;\n\n        case 'Kot':\n          return PetSexEnum.CAT_MALE;\n\n        case 'Kocica':\n          return PetSexEnum.CAT_FEMALE;\n      }\n    }\n\n    toPetStatus(petStatus) {\n      switch (petStatus) {\n        case 'GOTOWY DO ADOPCJI':\n          return PetStatusEnum.READY_TO_ADOPTION;\n\n        case 'GOTOWY DO ADOPCJI Z DOMU TYMCZASOWEGO':\n          return PetStatusEnum.READY_TO_ADPTION_TEMPORARY_HOUSE;\n\n        case 'ADOPTOWANY':\n          return PetStatusEnum.ADOPTED;\n\n        case 'DO PILNEJ ADOPCJI':\n          return PetStatusEnum.URGENT;\n\n        case 'NIEAKTUALNY':\n          return PetStatusEnum.DELETED;\n\n        case 'PRZYGOTOWYWANY DO ADOPCJI':\n          return PetStatusEnum.PREPARED_FOR_ADOPTION;\n      }\n    }\n\n    getPetSexValues() {\n      return Object.values(PetSexEnum);\n    }\n\n    getPetTypeValues() {\n      return Object.values(PetTypeEnum);\n    }\n\n    getPetStatusValues() {\n      return Object.values(PetStatusEnum);\n    }\n\n  }\n\n  PetService.ɵfac = function PetService_Factory(t) {\n    return new (t || PetService)(i0.ɵɵinject(i1.HttpClient));\n  };\n\n  PetService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: PetService,\n    factory: PetService.ɵfac,\n    providedIn: 'root'\n  });\n  return PetService;\n})();\nvar PetTypeEnum = /*#__PURE__*/(() => {\n  (function (PetTypeEnum) {\n    PetTypeEnum[\"DOG\"] = \"Pies\";\n    PetTypeEnum[\"CAT\"] = \"Kot\";\n  })(PetTypeEnum || (PetTypeEnum = {}));\n\n  return PetTypeEnum;\n})();\nvar PetSexEnum = /*#__PURE__*/(() => {\n  (function (PetSexEnum) {\n    PetSexEnum[\"DOG_MALE\"] = \"Pies\";\n    PetSexEnum[\"DOG_FEMALE\"] = \"Suka\";\n    PetSexEnum[\"CAT_MALE\"] = \"Kot\";\n    PetSexEnum[\"CAT_FEMALE\"] = \"Kocica\";\n  })(PetSexEnum || (PetSexEnum = {}));\n\n  return PetSexEnum;\n})();\nvar PetStatusEnum = /*#__PURE__*/(() => {\n  (function (PetStatusEnum) {\n    PetStatusEnum[\"READY_TO_ADOPTION\"] = \"GOTOWY DO ADOPCJI\";\n    PetStatusEnum[\"READY_TO_ADPTION_TEMPORARY_HOUSE\"] = \"GOTOWY DO ADOPCJI Z DOMU TYMCZASOWEGO\";\n    PetStatusEnum[\"ADOPTED\"] = \"ADOPTOWANY\";\n    PetStatusEnum[\"URGENT\"] = \"DO PILNEJ ADOPCJI\";\n    PetStatusEnum[\"DELETED\"] = \"NIEAKTUALNY\";\n    PetStatusEnum[\"PREPARED_FOR_ADOPTION\"] = \"PRZYGOTOWYWANY DO ADOPCJI\";\n  })(PetStatusEnum || (PetStatusEnum = {}));\n\n  return PetStatusEnum;\n})();","map":null,"metadata":{},"sourceType":"module"}